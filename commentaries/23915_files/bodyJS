/*! jQuery Validation Plugin - v1.13.1 - 10/14/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 JÃ¶rn Zaefferer; Licensed MIT */
function ajaxToggleSummary(n,t){$.ajax({url:"/Summaries/ToggleSummarySave",type:"POST",dataType:"json",async:!1,data:{id:n,wantToSave:t,isFromSignInLanding:!0},success:function(){},error:function(n,t){if(alert("error: "+n.responseText+"status: "+t),window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}function ajaxToSetAndSaveAlert(n,t){$.ajax({url:"/Accounts/ToggleAlert",type:"POST",dataType:"json",async:!1,data:{allChecks:n,alert:!0,contentType:t,isFromSignInLanding:!0},success:function(){},error:function(n,t){if(alert("error: "+n.responseText+"status: "+t),window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}function ajaxToSetAlert(n,t,i){$.ajax({url:"/Accounts/ToggleAlert",type:"POST",dataType:"json",data:{allChecks:n,alert:t,contentType:i},success:function(){},error:function(n,t){if(alert("error: "+n.responseText+"status: "+t),window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}function App(){jQuery.expr[":"].contains=function(n,t,i){return jQuery(n).text().toUpperCase().indexOf(i[3].toUpperCase())>=0},this.simpleToggle=function(n,t,i){var r=$(n),u=$(t),f=$(i);r.click(function(){r.toggleClass("is-active"),u.toggleClass("is-active")}),$(document).click(function(n){$(n.target).closest(f).length||(r.removeClass("is-active"),u.removeClass("is-active"))})},this.accountSignIn=function(){App.simpleToggle(".signin",".login","#header-account"),$("#login-button").click(function(n){n.preventDefault(),$(this).hasClass("is-active")?($(this).attr("aria-selected",!0),$("#login-panel").attr("aria-hidden",!1)):($(this).attr("aria-selected",!1),$("#login-panel").attr("aria-hidden",!0))}),$("#account-sign-in").click(function(n){if($("#sign-in-form").valid()&&$("#sign-in-form").validate()){var i=$("input#sign-in-username").val(),r=$("input#sign-in-userpwd").val(),t=$(this);t.text("Loading..."),n.preventDefault(),$.ajax({url:"/Accounts/LoginSubmit",type:"POST",dataType:"json",async:!1,cache:!1,data:{email:i,password:r},success:function(n){n.UserLoggedIn?location.reload():n.ForgotPasswordPage?window.location.href="/Accounts/ForgotPassword?message="+n.LoginAttemptMessage:($(".invalid-user-cred").text(n.LoginAttemptMessage),$(".invalid-user-cred").show(),$(".invalid-user-cred").text()!=""&&$(".login").addClass("is-active")),t.text("Sign In")},error:function(n,t){if(window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}})},this.headerActions=function(){$(".header-actions a").click(function(n){n.preventDefault();var t=$(this);t.hasClass("is-active")?($(".header-actions a").removeClass("is-active"),$(".header-action").removeClass("is-active")):($(".header-actions a").removeClass("is-active"),$(".header-action").removeClass("is-active"),t.addClass("is-active"),$(t.attr("href")).addClass("is-active"))})},this.mainNav=function(){$(".main-nav .parent-link").click(function(n){n.preventDefault(),$(this).parent().toggleClass("is-open"),$(this).parent().toggleClass("is-locked")}),$(document).click(function(n){$(n.target).closest(".main-nav").length||$(".main-nav .parent-link").each(function(){$(this).parent().removeClass("is-open"),$(this).parent().removeClass("is-locked")})})},this.contentToolbar=function(){$(".content-toolbar").each(function(){var n=$(this),t=$(".dropdown",n),u=$(".dropdown .tool-button",n),f=$(".dropdown-panel a",n),i=$(".other-tools",n),r=$(".more-toggle",n);u.click(function(n){n.preventDefault();var i=$(this).parent();i.hasClass("is-active")?i.removeClass("is-active"):(t.removeClass("is-active"),i.addClass("is-active"))}),f.click(function(){t.removeClass("is-active")}),$(window).resize(function(){t.removeClass("is-active")}),$(document).click(function(n){$(n.target).closest(".content-toolbar").length||t.removeClass("is-active")}),r.click(function(n){n.preventDefault(),i.toggleClass("is-active")}),i.find(".dropdown .tool-button").click(function(){r.addClass("is-active")}),$(".sections .dropdown-panel a",n).click(function(){var n=$($(this).attr("href"));n.addClass("is-active").next(".accordion-panel").addClass("is-active")}),$(".sections .tool-button",n).click(function(){i.removeClass("is-active").find(".dropdown").removeClass("is-active")}),$(".citation textarea",n).click(function(){$(this).select()})})},this.printButton=function(){$("#print-button").length&&$("#print-button").click(function(){window.print()})},this.popup=function(n){$(n).each(function(){$(this).click(function(n){n.preventDefault(),window.open($(this).attr("href"),"mywindow","menubar=1,resizable=1,width=350,height=250")})})},this.contentTabs=function(){$(".content-tabs a").click(function(n){n.preventDefault();var t=$($(this).attr("href"));$(this).hasClass("is-active")?$(".content-tabs a, .content-tab-panel").removeClass("is-active"):($(".content-tabs a, .content-tab-panel").removeClass("is-active"),$(this).addClass("is-active"),t.addClass("is-active"))})},this.tabs=function(n,t){var i=$(n);i.each(function(){var i=$(t,$(this)),r=$(this).next(n+"-content");i.click(function(n){n.preventDefault();var f=$(this).index(),u=$(t,r);i.removeClass("is-active"),$(this).addClass("is-active"),u.removeClass("is-active"),u.eq(f).addClass("is-active")})})},this.myAlerts=function(){function r(){var n=Array();t.each(function(){$(this).prop("checked")&&n.push({pickId:$(this).attr("data-href").replace("#","")})}),u(JSON.stringify(n),!1)}function u(n,t,i){$.ajax({url:"/Accounts/ToggleAlert",type:"POST",dataType:"json",data:{allChecks:n,alert:t,contentType:i},success:function(){},error:function(n,t){if(alert("error: "+n.responseText+"status: "+t),window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}function f(){n=[],t.each(function(){var t=$(this),i=t.parent().text(),r=t.attr("data-href");t.prop("checked")&&n.push({name:i,id:$(this).attr("data-href").replace("#","")})}),$(".tag-remove").click(function(){$(this).parent().remove(),$tags=$("li",$tagList),n=[],$tags.each(function(){var t=$(this),i=t.text(),r=t.attr("href");n.push({value:i,href:r})}),t.prop("checked",!1),t.each(function(){var t=$(this),r=t.parent().text();for(i=0;i<n.length;i++)r==n[i].value&&t.prop("checked",!0)}),r()})}var e=$(".checklist"),t=$("input",e),n=this.selectedDomains;f(),t.click(function(){f(),r()}),$(".get-org-alerts").click(function(n){var t,r,f,i;n.preventDefault(),t=$(this).attr("data-alert"),t=="SignInLanding"?(r=$(this).attr("id"),window.location.pathname.toLocaleLowerCase().indexOf("summaries/summary/")>=0?$(location).attr("href","/Accounts/SignInLanding/organization/"+r):$(location).attr("href","/Accounts/SignInLanding/"+r)):(f=$(this).attr("id"),i="",t.toLowerCase()=="true"?(t="false",i="Get Alerts"):(t="true",i="Unsubscribe"),u(f,t,"organization"),$(this).attr("data-alert",t),$(this).children().text(i))})},this.accordion=function(n,t,i){var r=$(n),f=$(n+", "+t);if(r.each(function(){var n=$(this),i=n.next(t);$(window).width()<960&&(n.removeClass("is-active"),n.attr("aria-expanded",!1),i.removeClass("is-active")),n.click(function(t){t.preventDefault(),(r.attr("aria-selected"),!0)&&(r.attr("aria-selected",!1),n.attr("aria-selected",!0),n.attr("aria-expanded")==="true"?n.attr("aria-expanded",!1):n.attr("aria-expanded",!0)),n.hasClass("is-disabled")||(n.toggleClass("is-active"),i.toggleClass("is-active"))}),$(document).keydown(function(n){n.keyCode==27&&(r.removeClass("is-active"),i.removeClass("is-active"))})}),$(i).length){var u=$(i+" a"),e=$(i+" .expand-all"),o=$(i+" .collapse-all");r.click(function(){u.addClass("is-disabled"),u.attr("aria-disabled",!0),r.each(function(){var n=$(this).hasClass("is-active");n&&(o.removeClass("is-disabled"),o.attr("aria-disabled",!1)),n||(e.removeClass("is-disabled"),e.attr("aria-disabled",!1))})}),u.click(function(n){n.preventDefault();var t=$(this);u.removeClass("is-disabled"),u.attr("aria-disabled",!1),t.hasClass("expand-all")?(f.addClass("is-active"),f.attr("aria-expanded",!0)):t.hasClass("collapse-all")&&(f.removeClass("is-active"),f.attr("aria-expanded",!1)),$(this).addClass("is-disabled"),$(this).attr("aria-disabled",!0)})}},this.accordionFilter=function(){$(".filter-content").each(function(){function o(){t.val(""),i=$(".accordion-secondary-title:visible"),$(".accordion-secondary-panel").removeClass("is-active"),i.next(".accordion-secondary-panel").removeClass("is-disabled").addClass("is-active"),r.show().css("display","")}function n(){t.val(""),i.next(".accordion-secondary-panel").removeClass("is-disabled").removeClass("is-active"),r.show().css("display","")}var t=$(".filter-input"),r=$(".accordion-secondary-panel"),s=$(".accordion-secondary-panel, .accordion-secondary-title"),u=$(".collapse-all"),e=$(".expand-all"),i=$(".accordion-secondary-title:visible"),f=$(".accordion-controls");t.keyup(function(){var t=$(this).val(),i;t==""||/^\s*$/.test(t)?(n(),$(".accordion-secondary-title").show(),$(".accordion-secondary-title").attr("aria-expanded",!1).attr("aria-selected",!1).removeClass("is-active")):(i=$(".accordion-secondary-title:not(:contains("+t+"))"),i.attr("aria-expanded",!1).attr("aria-selected",!1).removeClass("is-active"),i.hide(),i.next(".accordion-secondary-panel").removeClass("is-active").addClass("is-disabled"),$(".accordion-secondary-title:contains("+t+")").show()),$(".alpha-header").each(function(){var n=$(this);n.nextUntil("h2").closest("h3:visible").length?n.removeClass("is-disabled"):n.addClass("is-disabled")})}),$(".filter-clear").click(function(t){t.preventDefault(),n()}),u.addClass("is-disabled"),f.click(function(n){n.preventDefault(),$(this).hasClass("is-disabled")||(f.removeClass("is-disabled"),$(this).addClass("is-disabled"))}),e.click(function(){o()}),u.click(function(){n()}),$(document).keydown(function(t){t.keyCode==27&&n()})})},this.viewMoreToggle=function(n){var n=$.extend({},{toggle:".view-more-button",object:".content-list-wrap",list:".list-item-small",viewmore:"view-more-text",viewless:"view-less-text",showviewlessbutton:!1,type:"more",counter:0,displayFirst:1},n),o=$(n.toggle),i=$(n.object),e=$("."+n.viewmore),t=n.counter,r=n.list,u=n.displayFirst,f;t<u?i.find(r).not(":lt("+u+")").hide():i.find(r).not(":lt("+t+")").hide(),f=t,o.click(function(){var o=i.find(r+":hidden").length;n.type==="more"?(t<u?(i.find(r).show(),o=-1):(f+=t,i.find(r+":lt("+f+")").show()),o<t&&(n.showviewlessbutton?(n.type="less",e.removeClass(n.viewmore).addClass(n.viewless).text("Less"),$(".icon-expand").toggleClass("icon-expand icon-collapse")):$(this).hide())):n.type==="less"&&(t<u?i.find(r).not(":lt("+u+")").hide():i.find(r).not(":lt("+t+")").hide(),n.type="more",f=t,e.removeClass(n.viewless).addClass(n.viewmore).text("More"),$(".icon-collapse").toggleClass("icon-expand icon-collapse"))})},this.toggleFacetExtras=function(){$(".facets .toggle-extras").click(function(n){n.preventDefault();var t=$(this);t.hasClass("show-less")?t.text("Show More").removeClass("show-less").parent().parent().find(".extra-option").hide():t.text("Show Less").addClass("show-less").parent().parent().find(".extra-option").css("display","block")})},this.mobileFacets=function(){function o(n,t){$(n).click(function(n){n.preventDefault(),$(this).toggleClass("is-active"),$(t).toggleClass("is-active")})}function s(){$(".facets-toolbar, .facets-container, .content").toggleClass("facets-open"),$(".footer, #ahrq-footer").toggle()}var f=$(".search-results"),e=$(".facets"),n=$(".facet-section-title"),h=$(".facet-section-panel"),c=$(".narrow, .close",".facets-toolbar"),t=$(".facets-toolbar .clear"),i=$(".facets-toolbar .back"),r,u;if(f.show(),$(window).resize(function(){$(window).width()<960&&f.show()}),c.click(function(n){n.preventDefault(),s()}),t.click(function(){s()}),i.click(function(){e.removeClass("child-panel-is-open"),t.show(),i.hide()}),n.click(function(n){if(n.preventDefault(),$(window).width()>960){$(this).toggleClass("is-active"),$(this).next(".facet-section-panel").toggle();var r=window.location.pathname.toLowerCase()+": "+$(this).find("a").text();$(this).hasClass("is-active")?sessionStorage.setItem(r,"closed"):sessionStorage.removeItem(r)}else e.addClass("child-panel-is-open"),h.hide(),$(this).next(".facet-section-panel").show(),t.hide(),i.show()}),o(".facets-toolbar .options",".view-settings"),o(".search-tags-toggle",".search-tags-list"),n.each(function(){var t=window.location.pathname.toLowerCase(),i=t+": "+$(this).find("a").text(),n=sessionStorage.getItem(i);n!=null&&n.length&&n=="closed"&&$(this).trigger("click")}),!n.length)for(r=sessionStorage.length;r--;)u=sessionStorage.key(r),/\/search/.test(u)&&sessionStorage.removeItem(u)},this.toggleListContent=function(n,t){if($listItem=$(n),$listItem.wrapAll("<div class='toggle-list-container' id='toggle-list-container' />"),$listItemLength=$(".toggle-list-container").children().length,t<$listItemLength){function r(){$listItem.each(function(n){n>=t&&$(this).css("display","none")}),window.scrollTo("#toggle-list-container",0),i.html("Show More")}function u(){$listItem.css("display","block"),i.html("Show Fewer")}var i=$("<button class='toggle-button'>Show More<\/button>");$(".toggle-list-container").after(i),r(),i.toggle(function(){u()},function(){r()})}},($("select#country").val()!=="US"||$(this).val()!=="CA")&&($("select#state").val("other"),$("select#state").attr("disabled","disabled"),$("select#state").attr("aria-disabled","true")),$("#disclosures").css({display:"none"}),this.disclosure=$(".disclosures-choice").change(function(){$(this).val()=="0"?$("#disclosures").css({display:"none"}):$("#disclosures").css({display:"inline-block"})}),this.wrapContentTables=function(){$(".content-page table").wrap("<div class='table-container'><\/div>")}}function ApplyHighlighting(n,t){var i,f=queryObj(),r,u;(i=f[n]||"",i)&&($(t).each(function(){r=highlightText($(this).outerHTML(),decodeURIComponent(i.replace(/\+/g," "))),$(this).outerHTML(r)}),i=htmlEscape(i.replace(/\+/g," ")),i=i.replace(/\b(or|and|not)\b/i,""),u=decodeURIComponent(i).split(/\s+/),$.each(u,function(n,i){$(t).each(function(){r=highlightText($(this).outerHTML(),i),$(this).outerHTML(r)})}))}function queryObj(){var t={},i=decodeURIComponent(location.search.slice(1)).split("&"),n;return $.each(i,function(i,r){n=r.replace("#","").split("="),t[n[0]]=n[1]||""}),t}function highlightText(n,t){var u=new RegExp("("+t+")(?=[^>]*<)","gi"),i,r;return i='<span class="highlight">',r="<\/span>",n.replace(u,i+"$1"+r)}function htmlEscape(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlUnescape(n){return String(n).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function submitPubYearRange(){var n=$("#facet_SelectedFromYear").val(),t=$("#facet_SelectedToYear").val(),i;if(parseInt(n)>parseInt(t)){$("#divPubYearErrorMessage").show();return}$("#divPubYearErrorMessage").hide(),location.href.indexOf("f_dateRangeFrom")==-1?location.href=location.href+"&f_dateRangeFrom="+n+"&f_dateRangeTo="+t:(i=location.href.replace(/(f_dateRangeFrom=)[^\&]+/,"$1"+n),location.href=i.replace(/(f_dateRangeTo=)[^\&]+/,"$1"+t))}!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==n(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i;return n(this[0]).is("form")?t=this.validate().form():(t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i)),delete f.messages,s[r.name]=f,i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i],delete f[i],"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this[0].form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!this.is(i.ignore)&&i[u].call(r,this[0],t)}this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),n.each(i,function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",i).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text(""),this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return"radio"===r||"checkbox"===r?n("input[name='"+t.name+"']:checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:u.val():(i=u.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,u,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,e=!1,h=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,h,t,u.parameters),"dependency-mismatch"===i&&1===s){e=!0;continue}if(e=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o),o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),this.errorList.push({message:r,element:t,method:i.method}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):0===r.parents("label[for='"+s+"']").length&&(e=r.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))}))),!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var r,i,u={},e=n(t),f=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(null===f||/number|range|text/.test(f))&&(i=Number(i)),i||0===i?u[r]=i:f===r&&"range"!==f&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=void 0!==r?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage,s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o)),f.valid=s,u.stopRequest(i,s)}},r)),"pending")}}}),n.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";};var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}),$(document).ready(function(){function e(n){var t=$("#recaptcha_challenge_field").val(),i=$("#g-recaptcha-response").val();$.ajax({type:"POST",dataType:"json",data:{responseField:i,challengeField:t},async:!1,url:"/Accounts/CheckCaptcha",success:function(t){t=="Valid Captcha"||($("#recaptcha_response_field").val(""),alert("Error: Please check the box that says 'I'm not a robot'"),n.preventDefault(),Recaptcha.reload())},error:function(t,i){if(alert("error: "+t.responseText+"status: "+i),n.preventDefault(),window.console){var r=eval("("+t.responseText+")");console.log("error: "+r),console.log("status: "+i)}}})}$(".invalid-user-cred").text()!=""&&($(".invalid-user-cred").show(),$(".invalid-user-cred").attr("role","alert"),$("#loginEmail").focus(),$("#sign-in-username").focus());var r=/(?=.*[A-Z])/,u=/(?=.*[a-z])/,f=/(?=.*\d)/,t=/(?=.*[!#+$-])/,i=/(?=.*[.*@[<>.'";`%~,;:|\[\]\/{}_=^\\?\]()])/,n=" Error: Password does not pass all the requirements";$("#password").keyup(function(){var n=$(this).val();n.length>=8?$("#minlength").addClass("passed"):$("#minlength").removeClass("passed"),r.test(n)?$("#hascap").addClass("passed"):$("#hascap").removeClass("passed"),u.test(n)?$("#haslower").addClass("passed"):$("#haslower").removeClass("passed"),f.test(n)?$("#hasdigit").addClass("passed"):$("#hasdigit").removeClass("passed"),t.test(n)?$("#hassymbol").addClass("passed"):$("#hassymbol").removeClass("passed"),t.test(n)&&i.test(n)?$("#hassymbol").removeClass("passed"):t.test(n)&&i.test(n)==!1&&$("#hassymbol").addClass("passed")}),jQuery.validator.addMethod("hascap",function(n,t){return this.optional(t)||r.test(n)},n),jQuery.validator.addMethod("haslower",function(n,t){return this.optional(t)||u.test(n)},n),jQuery.validator.addMethod("hasdigit",function(n,t){return this.optional(t)||f.test(n)},n),jQuery.validator.addMethod("hassymbol",function(n,i){return this.optional(i)||t.test(n)},n),jQuery.validator.addMethod("nonValidSymbols",function(n,t){return this.optional(t)||!i.test(n)},n),$("#btnSignUp").removeAttr("disabled"),$("#btnSubmitContactUs").removeAttr("disabled"),$("#btnSignUp").click(function(n){$("#sign-up").valid()&&$("#sign-up").validate()&&e(n)}),$("#btnSubmitContactUs").click(function(n){$("#submit-contact-form").valid()&&$("#submit-contact-form").validate()&&e(n)}),$("#sign-up").validate({rules:{email:{email:!0},password:{minlength:8,hascap:!0,haslower:!0,hasdigit:!0,hassymbol:!0},password_again:{equalTo:"#password"}},messages:{email:{required:" Error: This field is required.",email:" Error: Please enter a valid email address."},password:{required:" Error: This field is required.",minlength:n},password_again:{required:" Error: This field is required.",equalTo:" Error: Input does not match password above"}},errorPlacement:function(n,t){n.appendTo("label[for="+$(t).attr("id")+"]")},errorElement:"em",errorClass:"required"}),$("#reset-password").validate({rules:{password:{minlength:8,hascap:!0,haslower:!0,hasdigit:!0,hassymbol:!0,nonValidSymbols:!0},password_again:{equalTo:"#password"}},messages:{password:{required:" Error: This field is required.",minlength:n},password_again:{required:" Error: This field is required.",equalTo:" Error: Input does not match password above"}},errorPlacement:function(n,t){n.appendTo("label[for="+$(t).attr("id")+"]")},errorElement:"em",errorClass:"required"}),$("#account-sign-in-landing-form").validate({rules:{email:{required:!0},password:{required:!0}},messages:{email:" Error: This field is required.",password:" Error: This field is required."},errorPlacement:function(n,t){n.appendTo("label[for="+$(t).attr("id")+"]")},errorElement:"em",errorClass:"required"}),$("#sign-in-form").validate({rules:{email:{required:!0},password:{required:!0}},messages:{email:" Error: This field is required.",password:" Error: This field is required."},errorPlacement:function(n,t){n.appendTo("label[for="+$(t).attr("id")+"]")},errorElement:"em",errorClass:"required"}),$("#submit-contact-form").validate({rules:{Comment:{required:!0},Email:{required:!0}},messages:{Comment:" Error: This field is required.",Email:{required:" Error: This field is required.",email:" Error: Please enter a valid email address."}},errorPlacement:function(n,t){n.appendTo("label[for="+$(t).attr("id")+"]")},errorElement:"em",errorClass:"required"})}),$("#account-sign-in-landing").click(function(n){if($("#account-sign-in-landing-form").valid()&&$("#account-sign-in-landing-form").validate()){var u=$("input#sign-in-landing-username").val(),f=$("input#sign-in-landing-userpwd").val(),e=$("input#sign-in-landing-returnurl").val(),r=$(this),t=window.location.pathname.toLowerCase(),i=0;r.text("Loading..."),n.preventDefault(),$.ajax({url:"/Accounts/LoginSubmit",type:"POST",dataType:"json",async:!1,cache:!1,data:{email:u,password:f,returnUrl:e},success:function(n){var u,f;n.UserLoggedIn?(u=document.referrer.toLocaleLowerCase(),u.indexOf("browse/organization")>=0?(i=t.replace("/accounts/signinlanding/",""),ajaxToSetAndSaveAlert(i,"organization"),window.location.href=u):u.indexOf("browse/mesh-tag")>=0&&t.indexOf("accounts/editalerts/topic")>=0?window.location.href=t:u.indexOf("new-this-week")>=0?(f=t.lastIndexOf("/"),i=t.substring(f+1,u.length),ajaxToSetAndSaveAlert(i,"organization"),window.location.href=u):u.indexOf("summaries/summary/")>=0?(f=t.lastIndexOf("/"),i=t.substring(f+1,u.length),t.toLowerCase().indexOf("accounts/signinlanding/organization")>=0?ajaxToSetAndSaveAlert(i,"organization"):ajaxToggleSummary(i,"add"),window.location.href=u):window.location.href=n.ReturnUrl):n.ForgotPasswordPage?window.location.href="/Accounts/ForgotPassword?message="+n.LoginAttemptMessage:($(".invalid-user-cred-landing").text(n.LoginAttemptMessage),$(".invalid-user-cred-landing").show(),$("#sign-in-landing-username").focus(),$(".invalid-user-cred-landing").text()!=""&&$(".login").addClass("is-active")),r.text("Sign In")},error:function(n,t){if(window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}}),$(".save-link").click(function(n){n.preventDefault();var i=$(this).attr("data-alert"),t=$(this).attr("id"),r=$(this).attr("data-to-Save");i=="SignInLanding"?$(location).attr("href","/Accounts/SignInLanding/"+t):(ajaxToggleSummary(t,r),$(location).attr("href",window.location.pathname))}),$("#select-all").click(function(){$("#select-all").prop("checked")==!1?$(".saved-measure-select").prop("checked",!1):$(".saved-measure-select").prop("checked",!0)}),$("#compare-all").click(function(n){var t,i;if(n.preventDefault(),t=[],$(".saved-measure-select:checked").each(function(){t.push($(this).val())}),i="?ids="+t.join("&ids="),i.length>5){var r=window.location.href,u=window.location.pathname,f=r.replace(u,"/compare/select"+i);$(location).attr("href",f)}else alert("Please select one or more summaries.")}),$("#remove-all").click(function(n){var t,i;if(n.preventDefault(),t=[],$(".saved-measure-select:checked").each(function(){t.push($(this).val())}),i="?favId="+t.join(",")+"&actionType=delete",i.length>26){var r=window.location.href,u=window.location.pathname,f=r.replace(u,"/accounts/UpdateSavedSummaries"+i);$(location).attr("href",f)}else alert("Please select one or more summaries.")}),$("#unsubscribe-all").click(function(n){var u,f;n.preventDefault();var r=[],t=[],i=[];$(".topic-id").each(function(){r.push({pickId:$(this).attr("id")})}),r.length>0&&ajaxToSetAlert(JSON.stringify(""),!1,"topic"),$(".org-id").each(function(){t.push($(this).attr("id"))}),t.length>0&&(u=t.join(","),ajaxToSetAlert(u,!1,"organization")),$(".domain-id").each(function(){i.push($(this).attr("id"))}),i.length>0&&(f=i.join(","),ajaxToSetAlert(f,!1,"domain")),ajaxToSetAlert("",!1,"summaries"),$("#expert-comm").attr("href").indexOf("alert=True")==-1&&ajaxToSetAlert("EC",!1,"expert-comm"),$(document).ajaxStop(function(){window.location.reload()})}),$(".icon-feed").click(function(){$.ajax({url:"/Home/LogClick",type:"POST",dataType:"json",data:{link:$(this).attr("href")}})}),$(".compareCheckBox").click(function(){$.ajax({url:"/Compare/UpdateCompareIdsSessionList",type:"POST",dataType:"json",data:{summmaryId:$(this).val(),check:$(this).prop("checked")},success:function(){},error:function(n,t){if(window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})}),$(".archive-link").click(function(n){var t=$(this);(n.preventDefault(),t.next().attr("class").indexOf("is-active")===-1)&&t.next().html()===""&&$.ajax({url:"/summaries/ArchiveObjectsByOrg",type:"POST",data:{browseType:t.attr("data-browseType"),id:t.attr("id")},success:function(n){t.next().html(n),t.next().attr("class","accordion-secondary-panel is-active")},error:function(n,t){if(window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})});var App=new App;$("document").ready(function(){$("body").removeClass("no-js").addClass("js"),ApplyHighlighting("q",".article"),App.headerActions(),App.mainNav(),App.accountSignIn(),App.contentTabs(),App.tabs(".tabs"," > li"),App.contentToolbar(),App.printButton(),App.accordion(".accordion-title",".accordion-panel",".accordion-controls"),App.accordion(".accordion-secondary-title",".accordion-secondary-panel",".accordion-controls"),App.accordionFilter(),App.mobileFacets(),App.toggleFacetExtras(),App.popup(".toolbar-social a:not(.email)"),App.viewMoreToggle(),App.toggleListContent(".field",3),App.wrapContentTables(),App.myAlerts()}),jQuery.fn.outerHTML=function(n){return n?this.before(n).remove():jQuery("<p>").append(this.eq(0).clone()).html()}